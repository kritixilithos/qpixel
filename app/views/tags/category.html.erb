<% content_for :title, "Tags for #{@category.name}" %>

<h1>Tags for <%= @category.name %></h1>

<div class="grid">
  <% required_ids = @category&.required_tag_ids %>
  <% moderator_ids = @category&.moderator_tag_ids %>
  <% topic_ids = @category&.topic_tag_ids %>

  <% @tags.each do |tag| %>
    <% required = required_ids&.include?(tag.id) ? 'is-filled' : '' %>
    <% topic = topic_ids&.include?(tag.id) ? 'is-outlined' : '' %>
    <% moderator = moderator_ids&.include?(tag.id) ? 'is-red is-outlined' : '' %>
    <% classes = "badge is-tag #{required} #{topic} #{moderator}" %>
    <%= render 'tag', category: @category, tag: tag, classes: classes %>
  <% end %>
</div>
